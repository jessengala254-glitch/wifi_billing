<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Leo Konnect ‚Äî Affordable Internet for Everyone</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="expires" content="-1" />
<link rel="stylesheet" href="assets/css/style.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://kit.fontawesome.com/e097ce4e3c.js" crossorigin="anonymous"></script>
<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
/* Login Section Styles */
.login-section {
    padding: 60px 20px;
    background: linear-gradient(135deg, #006837, #00c853);
    margin-top: -5px;
}

.login-container {
    background: white;
    padding: 30px 25px;
    border-radius: 15px;
    box-shadow: 0 8px 32px rgba(0,0,0,0.2);
    max-width: 370px;
    width: 100%;
    margin: 0 auto;
    text-align: center;
}

.login-header {
    margin-bottom: 25px;
}

.login-logo {
    text-decoration: none;
    font-weight: 700;
    font-size: 28px;
    color: #333;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
}

.login-logo:hover {
    transform: scale(1.05);
}

.login-logo i {
    background: linear-gradient(135deg, #006837, #00c853);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 28px;
}

.login-logo span {
    background: linear-gradient(135deg, #006837, #00c853);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.login-subtitle {
    font-size: 14px;
    color: #666;
    margin-top: 10px;
}

.login-form-group {
    margin-bottom: 14px;
    text-align: left;
}

.login-form-group label {
    display: block;
    font-size: 14px;
    font-weight: 600;
    color: #333;
    margin-bottom: 8px;
}

.login-form-group input[type="text"],
.login-form-group input[type="password"] {
    width: 100%;
    padding: 14px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    font-size: 15px;
    font-family: 'Poppins', sans-serif;
    transition: border-color 0.3s ease;
}

.login-form-group input[type="text"]:focus,
.login-form-group input[type="password"]:focus {
    outline: none;
    border-color: #28a745;
    box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);
}

.login-btn {
    width: 100%;
    padding: 14px;
    background: linear-gradient(135deg, #006837, #00c853);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    margin-top: 10px;
}

.login-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 104, 55, 0.3);
}

.login-btn:active {
    transform: translateY(0);
}

.login-error-message {
    background: #fee;
    color: #c33;
    padding: 12px;
    border-radius: 8px;
    margin-bottom: 20px;
    font-size: 13px;
    display: none;
}

.login-error-message.show {
    display: block;
}

.login-help-text {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid #eee;
    font-size: 13px;
    color: #999;
}

.login-help-text a {
    color: #28a745;
    text-decoration: none;
    font-weight: 600;
}

.login-help-text a:hover {
    text-decoration: underline;
}

.login-info-box {
    background: #f0f8f5;
    padding: 15px;
    border-radius: 8px;
    margin-top: 20px;
    font-size: 13px;
    color: #555;
    border-left: 4px solid #28a745;
}

/* Footer Logo Gradient */
.footer-logo {
    font-weight: 700;
    font-size: 24px;
    color: white;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 15px;
}

.footer-logo i {
    background: linear-gradient(135deg, #006837, #00c853);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 24px;
}

.footer-logo span {
    background: linear-gradient(135deg, #006837, #00c853);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Mobile responsive grid for plans */
@media (max-width: 768px) {
    .plans-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 15px !important;
    }
    
    .plan-card {
        padding: 20px 15px !important;
    }
    
    .plan-card h3 {
        font-size: 16px !important;
    }
    
    .plan-card .price {
        font-size: 22px !important;
    }
    
    .plan-card ul {
        font-size: 12px !important;
    }
    
    .plan-icon i {
        font-size: 2em !important;
    }
}
</style>
</head>
<body>
<style>
/* Navbar Logo Gradient */
.navbar .logo {
    text-decoration: none;
    font-weight: 700;
    font-size: 24px;
    color: white;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
}

.navbar .logo:hover {
    transform: scale(1.05);
}

.navbar .logo i {
    background: linear-gradient(135deg, #006837, #00c853);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 24px;
}

.navbar .logo span {
    background: linear-gradient(135deg, #006837, #00c853);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}
</style>
<header class="navbar">
  <div class="container nav-flex">
      <a href="index.php" class="logo">
        <i class="fas fa-wifi"></i> Leo <span>Konnect</span>
      </a>
    <nav>
      <a href="plans.php">Plans</a>
      <a href="about.php">About</a>
      <a href="contact.php">Contact</a>
    </nav>
    <div class="nav-btns">
      <a href="login.php" class="signin">Sign In</a>
      <a href="register.php" class="btn-primary">Get Started</a>
    </div>
  </div>
</header>

<section class="hero">
  <div class="container hero-content">
    <h1>Affordable Internet<br>For Everyone</h1>
    <p>Pay-as-you-go WiFi starting from just <span>Ksh 10</span> per hour.<br>
       Stay connected without breaking the bank.</p>
    <div class="hero-buttons">
      <a href="plans.php" class="btn-primary">View Plans</a>
      <a href="register.php" class="btn-outline">Get Connected</a>
    </div>
    <div class="hero-features">
      <span>‚ö° High-Speed Mbps</span>
      <span>üöÄ Instant Activation</span>
      <span>üîí No Contracts</span>
    </div>
  </div>
  <div class="wave"></div>
</section>

<!-- Login Section -->
<section class="login-section">
  <!-- MikroTik CHAP Authentication -->
  $(if chap-id)
      <form name="sendin" action="$(link-login-only)" method="post" style="display:none;">
          <input type="hidden" name="username" />
          <input type="hidden" name="password" />
          <input type="hidden" name="dst" value="$(link-orig)" />
          <input type="hidden" name="popup" value="true" />
      </form>
      
      <script type="text/javascript" src="/md5.js"></script>
      <script type="text/javascript">
      function doLogin() {
          document.sendin.username.value = document.login.username.value;
          document.sendin.password.value = hexMD5('$(chap-id)' + document.login.password.value + '$(chap-challenge)');
          document.sendin.submit();
          return false;
      }
      </script>
  $(endif)

  <div class="login-container">
      <div class="login-header">
          <a href="#" class="login-logo">
              <i class="fas fa-wifi"></i> Leo <span>Konnect</span>
          </a>
          <div class="login-subtitle">WiFi Access Login</div>
      </div>

      <form name="login" action="$(link-login-only)" method="post" $(if chap-id) onsubmit="return doLogin()" $(endif)>
          <input type="hidden" name="dst" value="$(link-orig)" />
          <input type="hidden" name="popup" value="true" />
          
          $(if error)
          <div class="login-error-message show">‚ö†Ô∏è $(error)</div>
          $(endif)
          
          <div class="login-form-group">
              <label>Voucher Username</label>
              <input type="text" name="username" placeholder="Enter your username" value="$(username)" autocomplete="off" required />
          </div>
          
          <div class="login-form-group">
              <label>Voucher Password</label>
              <input type="password" name="password" placeholder="Enter your password" autocomplete="off" required />
          </div>
          
          <button type="submit" class="login-btn">Connect to WiFi</button>
          
          <div class="login-info-box">
              ‚ÑπÔ∏è Use the voucher credentials sent to your phone via SMS
          </div>
      </form>

      <div class="login-help-text">
          Don't have a voucher? <a href="#plans">Buy one below</a>
      </div>
  </div>
</section>

<section id="plans" class="plans-section container">
  <h2>Choose Your Plan</h2>
  <p class="subtext">
    Flexible, affordable plans that fit your internet needs.<br>
    No hidden fees, no contracts.
  </p>

  <div class="plans-grid" id="plansGrid">
    <!-- Plans will be loaded here dynamically -->
    <div class="loading-spinner" style="grid-column: 1/-1; text-align: center; padding: 40px;">
      <i class="fas fa-spinner fa-spin" style="font-size: 2em; color: #28a745;"></i>
      <p style="margin-top: 10px; color: #666;">Loading plans...</p>
    </div>
  </div>
</section>

<section class="why-choose-us">
  <h2>Why Choose Leo Konnect?</h2>
  <p class="intro">We're committed to making internet access simple, affordable, and reliable for everyone in Kenya.</p>

  <div class="why-grid">
    <div class="why-card">
      <i class="fas fa-bolt"></i>
      <h3>Instant Activation</h3>
      <p>Get connected immediately after payment. No waiting, no setup fees.</p>
    </div>

    <div class="why-card">
      <i class="fas fa-wallet"></i>
      <h3>Affordable Pricing</h3>
      <p>Pay only for what you use plans start from just Ksh 10 per hour.</p>
    </div>

    <div class="why-card">
      <i class="fas fa-solid fa-people-group"></i>
      <h3>Community First</h3>
      <p>Bringing reliable and affordable internet connectivity to everyone.</p>
    </div>

    <div class="why-card">
      <i class="fas fa-wifi"></i>
      <h3>Reliable Coverage</h3>
      <p>Stay connected wherever you are with our strong and stable network.</p>
    </div>

    <div class="why-card">
      <i class="fas fa-headset"></i>
      <h3>24/7 Support</h3>
      <p>Our customer support team is always available to help you anytime.</p>
    </div>

    <div class="why-card">
      <i class="fas fa-shield-alt"></i>
      <h3>Secure Connection</h3>
      <p>Enjoy safe, encrypted, and uninterrupted internet access always.</p>
    </div>
  </div>
</section>
    
    
<footer class="site-footer">
  <div class="footer-container">
      <div class="footer-column brand"> 
          <h2 class="footer-logo">
              <i class="fas fa-wifi"></i> Leo <span>Konnect</span></h2>
      <p>Making internet accessible and affordable for everyone in Kenya.</p>
      <div class="social-icons">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-x-twitter"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
      </div>
    </div>

    <div class="footer-column">
      <h3>Quick Links</h3>
      <ul>
        <li><a href="#">View Plans</a></li>
        <li><a href="#">About Us</a></li>
        <li><a href="#">Contact</a></li>
        <li><a href="#">Sign In</a></li>
      </ul>
    </div>

    <div class="footer-column">
      <h3>Support</h3>
      <ul>
        <li><a href="#">FAQ</a></li>
        <li><a href="#">Help Center</a></li>
        <li><a href="#">Terms of Service</a></li>
        <li><a href="#">Privacy Policy</a></li>
      </ul>
    </div>

    <div class="footer-column contact">
      <h3>Contact Us</h3>
      <ul>
        <li><i class="fas fa-map-marker-alt"></i> Malindi, Kenya</li>
        <li><i class="fas fa-phone"></i> +254 700 000 000</li>
        <li><i class="fas fa-envelope"></i> info@leokonnect.co.ke</li>
      </ul>
    </div>

  </div>

  <div class="footer-bottom">
    <p>&copy; <span id="currentYear"></span> Leo Konnect. All rights reserved.</p>
  </div>
</footer>

<script>
// Get URL parameters
function getUrlParams() {
    const params = new URLSearchParams(window.location.search);
    return {
        from_captive: params.get('from_captive') || 0,
        return_url: params.get('return_url') || 'http://www.google.com'
    };
}

// Convert minutes to duration text and icon
function getDurationInfo(minutes) {
    if (minutes >= 43200) { // 30 days
        return { text: '1 month', icon: 'fa-calendar-alt' };
    } else if (minutes >= 10080) { // 7 days
        return { text: '1 week', icon: 'fa-calendar-week' };
    } else if (minutes >= 1440) { // 1 day
        return { text: '1 day', icon: 'fa-sun' };
    } else if (minutes >= 60) { // 1 hour
        return { text: '1 hour', icon: 'fa-clock' };
    } else {
        return { text: minutes + ' minutes', icon: 'fa-stopwatch' };
    }
}

// Format number with commas
function formatNumber(num) {
    return Math.floor(num).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

// Escape HTML to prevent XSS
function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
}

// Load plans from API
async function loadPlans() {
    const plansGrid = document.getElementById('plansGrid');
    const urlParams = getUrlParams();
    
    try {
        const response = await fetch('http://192.168.10.68/leokonnect/api/get_plans.php');
        const data = await response.json();
        
        if (data.success && data.plans.length > 0) {
            plansGrid.innerHTML = '';
            
            data.plans.forEach((plan, index) => {
                const duration = getDurationInfo(plan.duration_minutes);
                const isPopular = index === 1;
                
                const planCard = document.createElement('div');
                planCard.className = 'plan-card' + (isPopular ? ' popular' : '');
                
                let purchaseUrl = `http://192.168.10.68/leokonnect/purchase.php?plan_id=${plan.id}`;
                if (urlParams.from_captive == 1) {
                    purchaseUrl += `&from_captive=1&return_url=${encodeURIComponent(urlParams.return_url)}`;
                }
                
                planCard.innerHTML = `
                    ${isPopular ? '<div class="badge">Popular</div>' : ''}
                    
                    <div class="plan-icon">
                        <i class="fas ${duration.icon}"></i>
                    </div>
                    
                    <h3>${escapeHtml(plan.title)}</h3>
                    <p class="price">Ksh ${formatNumber(plan.price)}</p>
                    
                    <ul>
                        <li>Unlimited data for ${escapeHtml(duration.text)}</li>
                        <li>Ultra high-speed internet</li>
                        <li>Instant activation</li>
                        <li>Multiple device support</li>
                    </ul>
                    
                    <a href="${purchaseUrl}" class="btn-primary">Choose Plan</a>
                `;
                
                plansGrid.appendChild(planCard);
            });
        } else {
            plansGrid.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: #666;">No plans available at the moment.</p>';
        }
    } catch (error) {
        console.error('Error loading plans:', error);
        plansGrid.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: #c33;">Failed to load plans. Please refresh the page.</p>';
    }
}

// Set current year
document.getElementById('currentYear').textContent = new Date().getFullYear();

// Load plans when page loads
document.addEventListener('DOMContentLoaded', loadPlans);
</script>

</body>
</html>
